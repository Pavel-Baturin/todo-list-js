{"mappings":"AAAO,MAAMA,EAAWC,SAASC,cAAc,YAClCC,EAAeF,SAASC,cAAc,UACtCE,EAAUH,SAASC,cAAc,SCA9CE,EAAQC,iBAAiB,SAUzB,SAAqBC,GACnB,GAAyB,WAArBA,EAAEC,OAAOC,QAAsB,CACjCF,EAAEC,OAAOF,iBAAiB,QAASI,GAEnCA,EADqBC,OAAOJ,EAAEC,OAAOI,aAAa,SAIpD,GAAyB,OAArBL,EAAEC,OAAOC,QACX,OAGF,MAAMI,EAAcF,OAAOJ,EAAEC,OAAOI,aAAa,OACjDE,EAASC,KAAIC,IACPH,IAAgBG,EAAKC,KACvBD,EAAKE,SAAWF,EAAKE,QACrBC,aAAaC,QAAQ,OAAQC,KAAKC,UAAUR,IAC5CS,WAzBNnB,EAAaE,iBAAiB,SA8B9B,WACE,MAAMkB,EAAQvB,EAASuB,MAAMC,OAC7B,IAAKD,EAEoB,YADvBE,MAAM,+BAMR,GAFmBZ,EAASC,KAAIC,GAAQA,EAAKQ,QAAOG,SAASH,GAG3D,OAAOE,MAAM,0BAOjB,SAAkBF,GAChB,MAAMI,EAAOC,KAAKC,MAMlBhB,EAAW,CALK,C,MACdU,EACAN,SAAS,EACTD,GAAIW,MAEkBd,GACxBK,aAAaC,QAAQ,OAAQC,KAAKC,UAAUR,KAb5CiB,CAASP,GACTD,IACAtB,EAASuB,MAAQ,MA1CnB,IAAIV,EAAW,GAwDf,SAASS,IACFT,EAASkB,OAId3B,EAAQ4B,UAAYnB,EACjBC,KACCmB,GACE,WAAWA,EAAKjB,mBAAmBiB,EAAKhB,QAAU,UAAY,OAC5DgB,EAAKV,sBACUU,EAAKjB,4CAEzBkB,KAAK,IAVN9B,EAAQ4B,UAAY,GAaxB,SAASvB,EAAoB0B,GAC3B,MAAMC,EAAavB,EAASwB,QAAOtB,GAAQA,EAAKC,KAAOmB,IACvDtB,EAAWuB,EACXlB,aAAaC,QAAQ,OAAQC,KAAKC,UAAUR,IAC5CS,IAzEEJ,aAAaoB,QAAQ,UACvBzB,EAAWO,KAAKmB,MAAMrB,aAAaoB,QAAQ,SAC3ChB","sources":["src/js/refs.js","src/js/index.js"],"sourcesContent":["export const inputRef = document.querySelector(\"#myInput\");\nexport const addButtonRef = document.querySelector(\"button\");\nexport const listRef = document.querySelector(\"#myUL\");","import { inputRef, addButtonRef, listRef } from './refs.js';\n\nlistRef.addEventListener('click', onListClick);\naddButtonRef.addEventListener('click', handlerClick);\n\nlet todoList = [];\n\nif (localStorage.getItem('todo')) {\n  todoList = JSON.parse(localStorage.getItem('todo'));\n  createMarkup();\n}\n\nfunction onListClick(e) {\n  if (e.target.tagName === 'BUTTON') {\n    e.target.addEventListener('click', onDeleteButtonClick);\n    const currentElIdx = Number(e.target.getAttribute('idx'));\n    onDeleteButtonClick(currentElIdx);\n  }\n\n  if (e.target.tagName !== 'LI') {\n    return;\n  }\n\n  const currentElId = Number(e.target.getAttribute('id'));\n  todoList.map(todo => {\n    if (currentElId === todo.id) {\n      todo.checked = !todo.checked;\n      localStorage.setItem('todo', JSON.stringify(todoList));\n      createMarkup();\n    }\n  });\n}\n\nfunction handlerClick() {\n  const value = inputRef.value.trim();\n  if (!value) {\n    alert('Поле не повинно бути пустим');\n    return;\n  }\n  \n  const uniqueTodo = todoList.map(todo => todo.value).includes(value);\n  \n  if (uniqueTodo) {\n    return alert('Такий запис вже існує');\n  }\n  saveData(value);\n  createMarkup();\n  inputRef.value = '';\n}\n\nfunction saveData(value) {\n  const time = Date.now();\n  const newToDo = {\n    value,\n    checked: false,\n    id: time,\n  };\n  todoList = [newToDo, ...todoList];\n  localStorage.setItem('todo', JSON.stringify(todoList));\n}\n\nfunction createMarkup() {\n  if (!todoList.length) {\n    listRef.innerHTML = '';\n    return;\n  }\n  listRef.innerHTML = todoList\n    .map(\n      toDo =>\n        `<li id=\"${toDo.id}\" class=\"item ${toDo.checked ? 'checked' : ''}\">${\n          toDo.value\n        } <button idx=\"${toDo.id}\" class=\"delete\">Delete</button></li>`\n    )\n    .join('');\n}\n\nfunction onDeleteButtonClick(todoId) {\n  const deleteToDo = todoList.filter(todo => todo.id !== todoId);\n  todoList = deleteToDo;\n  localStorage.setItem('todo', JSON.stringify(todoList));\n  createMarkup();\n}\n"],"names":["$ee27a4d7c64fc8c4$export$10392726a695ce22","document","querySelector","$ee27a4d7c64fc8c4$export$dbc22337165b7a57","$ee27a4d7c64fc8c4$export$ca20f9e8518347b3","addEventListener","e","target","tagName","$85a5f86b715fe7db$var$onDeleteButtonClick","Number","getAttribute","currentElId","$85a5f86b715fe7db$var$todoList","map","todo","id","checked","localStorage","setItem","JSON","stringify","$85a5f86b715fe7db$var$createMarkup","value","trim","alert","includes","time","Date","now","$85a5f86b715fe7db$var$saveData","length","innerHTML","toDo","join","todoId","deleteToDo","filter","getItem","parse"],"version":3,"file":"index.5f24ae39.js.map"}